<?php if (!$this->fatalError): ?>

    <?= Form::open([
        'class' => 'layout-row',
        'data-change-monitor' => 'true',
        'id' => 'post-form'
    ]) ?>

        <?= $this->formRender() ?>
        <?= $this->relationRender('prices') ?>
		<div class="form-buttons layout-item fix">
	            <div class="loading-indicator-container">
	                <button
	                    type="submit"
	                    data-request="onSave"
	                    data-hotkey="ctrl+s, cmd+s"
	                    data-load-indicator="<?= e(trans('cptmeatball.pricetables::lang.form.updating_table', ['name'=>$formRecordName])) ?>"
	                    class="btn btn-primary">
	                    <?= e(trans('cptmeatball.pricetables::lang.form.update')) ?>
	                </button>
	                <button
	                    type="button"
	                    data-request="onSave"
	                    data-request-data="close:1"
	                    data-hotkey="ctrl+enter, cmd+enter"
	                    data-load-indicator="<?= e(trans('cptmeatball.pricetables::lang.form.updating_table', ['name'=>$formRecordName])) ?>"
	                    class="btn btn-default">
	                    <?= e(trans('cptmeatball.pricetables::lang.form.update_and_close')) ?>
	                </button>
	                <span class="btn-text">
	                    <?= e(trans('backend::lang.form.or')) ?> <a href="<?= Backend::url('cptmeatball/pricetables/prices') ?>"><?= e(trans('cptmeatball.pricetables::lang.form.cancel')) ?></a>
	                </span>
	            </div>
	        </div>
    <?= Form::close() ?>
<?php else: ?>

    <div class="control-breadcrumb">
        <?= Block::placeholder('breadcrumb') ?>
    </div>
    <div class="padded-container">
        <p class="flash-message static error"><?= e(trans($this->fatalError)) ?></p>
        <p><a href="<?= Backend::url('cptmeatball/pricetables/prices') ?>" class="btn btn-default"><?= 'Back' ?></a></p>
    </div>

<?php endif ?>